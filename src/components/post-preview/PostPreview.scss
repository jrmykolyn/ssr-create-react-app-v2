// --------------------------------------------------
// VARIABLES
// --------------------------------------------------
// Add any SASS variables that are specific to this file here.
$gutter-width: 2%;

// --------------------------------------------------
// PLACEHOLDERS
// --------------------------------------------------
%post-preview--base {
  width: 33.333333%;
  height: auto;
  display: flex;
  flex-direction: column;
  font-size: 1.6rem;
  margin-bottom: $gutter-width * 2;
  padding: 0 ( $gutter-width / 2 ); /// TMEP
  position: relative;

  // Pseudo elems.
  &::after {
    content: '';
    display: table;
    clear: both;
  }
}

%post-preview-hero--base {
  width: 100%;
  height: auto;
  padding-top: 66.666666%;
  position: relative;

  animation: fade 1s forwards;
}

%post-preview-hero-image--base {
  /*
    `*: *!important` temporarily required in order to override inline WP styles.
  */
  width: 100% !important;
  height: 100% !important;
  display: block;
}

%post-preview-header--base {
  padding: 2rem;
  background: #FFF;
  box-shadow: 0rem 0.3rem 2rem -0.3rem rgba( 0, 0, 0, 0.2 );
  flex-grow: 1;

  // Positional styles
  &:not( :first-child ) {
    padding-top: 2rem;
  }

  // Descendants
  & > *:last-child {
    margin-bottom: 0;
  }

  h1 {
    font-size: 1.5em;
  }

  h2 {
    margin-bottom: 1rem;

    font-size: 1em;
    text-transform: uppercase;
  }
}

// --------------------------------------------------
// SELECTORS
// --------------------------------------------------
.post-batch {
  display: block;
}

.post-batch__posts {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;

  // Pseudo elems.
  &::after {
    content: '';
    display: table;
    clear: both;
  }
}

.post-preview {
  @extend %post-preview--base;

  width: 100%;
  flex-direction: row;
  align-items: flex-start;
  font-size: 1rem;

  // Media queries
  @media ( min-width: 860px ) {
    width: 33.333333%;
    flex-direction: column;
  }
}

.post-preview__hero {
  width: 30%;
  height: auto;
  flex-grow: 0;

  // Media queries
  @media ( min-width: 860px ) {
    width: 100%;
  }

  // Descendants
  img {
     @extend %post-preview-hero-image--base;
  }
}

.post-preview__header {
  @extend %post-preview-header--base;

  width: 70%;

  // Media queries
  @media ( min-width: 860px ) {
    width: 100%;
  }
}

.post-preview__body {

}

.post-preview__footer {

}

/* VARIANT: HERO */
.post-preview--hero {
  @extend %post-preview--base;

  width: 100%;
}


.post-preview--hero__hero {
  @extend %post-preview-hero--base;

  width: 100vw;
  height: auto;
  display: block;
  margin-left: calc( ( 100vw - 100% ) / 2 * -1 );
  padding-top: 56.25%; /* 16:9 aspect */

  // Descendants
  img {
    @extend %post-preview-hero-image--base;

    position: absolute;
    top: 0;
    left: 0;
    object-fit: cover;
  }
}

.post-preview--hero__header {
  @extend %post-preview-header--base;

  margin-top: -2.5rem;
  position: relative;

  // Media queries
  @media ( min-width: 768px ) {
    font-size: 2rem;
    padding-bottom: 3rem;
  }

  @media ( min-width: 992px ) {
    font-size: 2.5rem;
  }

  @media ( min-width: 1200px ) {
    margin-top: -5rem;
  }
}


/* VARIANT: LARGE */
.post-preview--large {
  @extend %post-preview--base;

  width: 100%;
}


.post-preview--large__hero {
  img {
    @extend %post-preview-hero-image--base;
  }
}

.post-preview--large__header {
  @extend %post-preview-header--base;
}

/* VARIANT: SUPPORTING */
.post-preview--supporting {
  @extend %post-preview--base;

  width: 50%;
  font-size: 1.2rem;
}

.post-preview--supporting__hero {
  @extend %post-preview-hero--base;

  // Descendants
  img {
    @extend %post-preview-hero-image--base;

    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    object-fit: cover;
  }
}

.post-preview--supporting__header {
  @extend %post-preview-header--base;
}
